# Project Setup

## Installation

```bash
# Core packages
npm i fumadocs-ui fumadocs-core fumadocs-mdx @types/mdx

# Or with pnpm
pnpm add fumadocs-ui fumadocs-core fumadocs-mdx @types/mdx
```

## Source Configuration

Create `source.config.ts` at the project root:

```ts
// source.config.ts
import { defineConfig, defineDocs } from 'fumadocs-mdx/config';

export const docs = defineDocs({
  dir: 'content/docs',
});

export default defineConfig({
  mdxOptions: {
    // Custom remark/rehype plugins
  },
});
```

## Next.js Configuration

```ts
// next.config.mjs
import { createMDX } from 'fumadocs-mdx/next';

const withMDX = createMDX();

/** @type {import('next').NextConfig} */
const config = {
  reactStrictMode: true,
};

export default withMDX(config);
```

## Tailwind CSS Setup

Import the Fumadocs UI preset in your CSS:

```css
/* app/global.css */
@import 'fumadocs-ui/css/neutral.css';
/* Theme options: neutral, ocean, purple, catppuccin */

@import 'fumadocs-ui/css/preset.css';
@import 'tailwindcss';
```

Add Fumadocs content paths to Tailwind config:

```ts
// tailwind.config.ts (if using config file)
import type { Config } from 'tailwindcss';

const config: Config = {
  content: [
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './content/**/*.mdx',
    './node_modules/fumadocs-ui/dist/**/*.js',
  ],
};

export default config;
```

## App Directory Structure

```
app/
├── layout.tsx              # Root layout with RootProvider
├── global.css
├── docs/
│   ├── layout.tsx          # DocsLayout with sidebar
│   └── [[...slug]]/
│       └── page.tsx        # DocsPage (catch-all route)
├── api/
│   └── search/
│       └── route.ts        # Search API endpoint
content/
├── docs/
│   ├── index.mdx           # /docs landing page
│   ├── meta.json           # Page ordering
│   ├── getting-started.mdx
│   └── guides/
│       ├── meta.json
│       └── installation.mdx
lib/
└── source.ts               # Content source loader
source.config.ts            # Fumadocs MDX config
```

## Root Layout with RootProvider

```tsx
// app/layout.tsx
import { RootProvider } from 'fumadocs-ui/provider';
import type { ReactNode } from 'react';
import './global.css';

export default function RootLayout({ children }: { children: ReactNode }) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <RootProvider
          search={{
            enabled: true,
          }}
          theme={{
            enabled: true,
            defaultTheme: 'system',
            // attribute: 'class', // for Tailwind dark mode
          }}
        >
          {children}
        </RootProvider>
      </body>
    </html>
  );
}
```

## Source Loader

```ts
// lib/source.ts
import { docs, meta } from '@/.source';
import { createMDXSource } from 'fumadocs-mdx/runtime/next';
import { loader } from 'fumadocs-core/source';

export const source = loader({
  baseUrl: '/docs',
  source: createMDXSource(docs, meta),
});
```

The `@/.source` import is auto-generated by fumadocs-mdx based on your `source.config.ts`.

## TypeScript Path Alias

Ensure `tsconfig.json` includes the `.source` path:

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./*"],
      "@/.source": ["./.source/index"]
    }
  }
}
```
